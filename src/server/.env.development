# ============================================
# ENVIRONMENT & APP CONFIGURATION
# ============================================
NODE_ENV=development
APP_NAME=UPTAMCA
APP_VERSION=1.0.0
APP_DESCRIPTION=Servidor API UPTAMCA
API_URL=http://localhost:3001
WS_URL=ws://localhost:3001

# ============================================
# SERVER CONFIGURATION
# ============================================
PORT=3001
HOST=localhost
PROTOCOL=http
BASE_URL=http://localhost:3001
API_PREFIX=
SERVER_NAME=UPTAMCA Server

# ============================================
# DATABASE CONFIGURATION
# ============================================
DATABASE_CONNECTION_URL=
DATABASE_URL_EXTERNAL=
DATABASE_CLIENT=pg
DB_HOST=localhost
DB_PORT=5432
DB_NAME=proyecto_uptamca
DB_USER=postgres
DB_PASSWORD=1234
DB_SSL=false
DB_DEBUG=false
DB_ASYNC_STACK_TRACES=false
DB_SCHEMA=public
DB_POOL_MIN=2
DB_POOL_MAX=10
DB_POOL_ACQUIRE=30000
DB_POOL_IDLE=10000
DB_REAP_INTERVAL=1000
DB_CREATE_RETRY_INTERVAL=100
DB_CREATE_TIMEOUT=30000
DB_RETRY_COUNT=3
DB_RETRY_DELAY=1000
DB_MIGRATIONS_DIR=./migrations
DB_SEEDS_DIR=./seeds

# ============================================
# CORS CONFIGURATION
# ============================================
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:5173,http://127.0.0.1:3000,http://127.0.0.1:3001,http://127.0.0.1:5173
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS,HEAD
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With,Accept,Origin,Access-Control-Request-Method,Access-Control-Request-Headers,X-CSRF-Token,X-Request-ID,X-Client-Version,X-Api-Key
CORS_EXPOSED_HEADERS=Authorization,X-CSRF-Token,X-Request-ID,X-RateLimit-Limit,X-RateLimit-Remaining,X-RateLimit-Reset
CORS_PREFLIGHT_CONTINUE=false
CORS_OPTIONS_SUCCESS_STATUS=204
CORS_MAX_AGE=86400
CORS_DEV_ALLOW_ALL=true
CORS_DEV_LOG_BLOCKED=true
CORS_DEV_SHOW_DEBUG=true
CORS_ALLOW_NULL_ORIGIN=false
CORS_ALLOW_MOBILE_APPS=true
CORS_ALLOW_CHROME_EXTENSIONS=false
CORS_ALLOW_POSTMAN=true

# ============================================
# HELMET SECURITY HEADERS
# ============================================
CSP_ENABLED=true
CSP_REPORT_ONLY=false
CSP_SCRIPT_SRC=
CSP_STYLE_SRC=
CSP_IMG_SRC=
CSP_FONT_SRC=
CSP_CONNECT_SRC=
CSP_FRAME_SRC=
CSP_MEDIA_SRC=
HSTS_ENABLED=true
HSTS_MAX_AGE=31536000
HSTS_INCLUDE_SUBDOMAINS=true
HSTS_PRELOAD=true
CROSS_ORIGIN_EMBEDDER_POLICY=require-corp
CROSS_ORIGIN_OPENER_POLICY=same-origin
CROSS_ORIGIN_RESOURCE_POLICY=same-origin
DNS_PREFETCH_CONTROL=false
FRAME_GUARD_ACTION=DENY
HIDE_POWERED_BY=true
IE_NO_OPEN=true
NO_SNIFF=true
PERMITTED_CROSS_DOMAIN_POLICIES=none
REFERRER_POLICY=strict-origin-when-cross-origin
XSS_FILTER=true

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_ENABLED=true
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX=100
RATE_LIMIT_MESSAGE=Demasiadas solicitudes, por favor intente m√°s tarde
RATE_LIMIT_STANDARD_HEADERS=true
RATE_LIMIT_LEGACY_HEADERS=true
RATE_LIMIT_SKIP_SUCCESS=false
RATE_LIMIT_WHITELIST=
RATE_LIMIT_BLACKLIST=
LOGIN_RATE_LIMIT_WINDOW_MS=900000
LOGIN_RATE_LIMIT_MAX=5
REGISTER_RATE_LIMIT_WINDOW_MS=3600000
REGISTER_RATE_LIMIT_MAX=3
PASSWORD_RESET_RATE_LIMIT_WINDOW_MS=3600000
PASSWORD_RESET_RATE_LIMIT_MAX=3
API_RATE_LIMIT_WINDOW_MS=60000
API_RATE_LIMIT_MAX=60
UPLOAD_RATE_LIMIT_WINDOW_MS=300000
UPLOAD_RATE_LIMIT_MAX=10

# ============================================
# CSRF PROTECTION
# ============================================
CSRF_ENABLED=true
CSRF_COOKIE_KEY=_csrf
CSRF_COOKIE_SECURE=false
CSRF_COOKIE_HTTP_ONLY=true
CSRF_COOKIE_SAME_SITE=strict
CSRF_COOKIE_PATH=/
CSRF_HEADER_NAME=X-CSRF-Token
CSRF_IGNORE_METHODS=GET,HEAD,OPTIONS

# ============================================
# MISC SECURITY SETTINGS
# ============================================
HIDE_SERVER_INFO=true
REQUEST_TIMEOUT=30000
KEEP_ALIVE_TIMEOUT=5000
COMPRESSION_ENABLED=true
COMPRESSION_LEVEL=6
COMPRESSION_THRESHOLD=1024
CACHE_CONTROL_HEADER=no-store, no-cache, must-revalidate

# ============================================
# SOCKET.IO CONFIGURATION
# ============================================
SOCKET_ENABLED=true
SOCKET_CORS_ORIGIN=*
SOCKET_CORS_CREDENTIALS=true
SOCKET_TRANSPORTS=polling,websocket
SOCKET_ALLOW_EIO3=true
SOCKET_PING_TIMEOUT=5000
SOCKET_PING_INTERVAL=25000
SOCKET_CONNECT_TIMEOUT=45000
SOCKET_ALLOW_UPGRADES=true
SOCKET_COMPRESSION=true
SOCKET_HTTP_COMPRESSION=true
SOCKET_AUTH_ENABLED=true
SOCKET_AUTH_TIMEOUT=5000
SOCKET_AUTH_REQUIRED=true
SOCKET_USER_ROOM_PREFIX=user_
SOCKET_ROLE_ROOM_PREFIX=role_
SOCKET_ADMIN_ROOM=role_SuperAdmin
SOCKET_BROADCAST_ROOM=broadcast
SOCKET_MAX_BUFFER_SIZE=1000000
SOCKET_MAX_CONNECTIONS=1000
SOCKET_MAX_PAYLOAD=1000000

# ============================================
# AUTHENTICATION & JWT CONFIGURATION
# ============================================
JWT_ACCESS_SECRET=your_super_strong_access_secret_key_change_in_production
JWT_REFRESH_SECRET=your_super_strong_refresh_secret_key_change_in_production
JWT_RESET_SECRET=your_reset_secret_key_change_in_production
JWT_VERIFY_SECRET=your_verify_secret_key_change_in_production
AUTH_SECRET_KEY=your_auth_secret_key_change_in_production
JWT_ACCESS_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_RESET_EXPIRES_IN=1h
JWT_VERIFY_EXPIRES_IN=24h
JWT_SHORT_EXPIRES_IN=5m
JWT_LONG_EXPIRES_IN=30d
JWT_ALGORITHM=HS256
JWT_ISSUER=uptamca-api
JWT_AUDIENCE=uptamca-client
JWT_SUBJECT=user-auth
JWT_ID_PREFIX=jti_
ACCESS_TOKEN_NAME=access_token
REFRESH_TOKEN_NAME=refresh_token
RESET_TOKEN_NAME=reset_token
VERIFY_TOKEN_NAME=verify_token
BEARER_TOKEN_PREFIX=Bearer
TOKEN_SOURCES=header,cookie
TOKEN_COOKIE_SECURE=false
TOKEN_COOKIE_HTTP_ONLY=true
TOKEN_COOKIE_SAME_SITE=strict
TOKEN_COOKIE_PATH=/
TOKEN_COOKIE_DOMAIN=
TOKEN_COOKIE_MAX_AGE=604800000
BCRYPT_SALT_ROUNDS=10
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_TIME_MINUTES=15
TOKEN_REFRESH_LIMIT=5
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SYMBOL=true
JWT_REQUIRED_CLAIMS=sub,iat,exp,iss
JWT_ADDITIONAL_CLAIMS=role,email,name,userId
USE_TOKEN_BLACKLIST=true
BLACKLIST_TTL_HOURS=24
REFRESH_TOKEN_LENGTH=64
REFRESH_TOKEN_STORE=database
REFRESH_TOKEN_REUSE_DETECTION=true
REFRESH_TOKEN_FAMILY_LIMIT=5
REFRESH_RATE_LIMIT_WINDOW_MS=60000
REFRESH_RATE_LIMIT_MAX=3

# ============================================
# OAUTH & SOCIAL LOGIN
# ============================================
GOOGLE_CLIENT_ID=
GOOGLE_CLIENT_SECRET=
GOOGLE_CALLBACK_URL=/auth/google/callback
GITHUB_CLIENT_ID=
GITHUB_CLIENT_SECRET=
GITHUB_CALLBACK_URL=/auth/github/callback

# ============================================
# FILE UPLOADS CONFIGURATION
# ============================================
PATH_FILES=src/uploads
PATH_TEMP_FILES=src/uploads/temp
MAX_SIZE_IMAGE_FILES=5
MAX_SIZE_DOCUMENT_FILES=10
MAX_SIZE_VIDEO_FILES=50
MAX_SIZE_FILES=5
MAX_FILES_UPLOAD=10
GENERATE_UNIQUE_NAME=true

# ============================================
# LOGGING CONFIGURATION
# ============================================
LOG_LEVEL=info
LOG_TIMESTAMP_FORMAT=DD-MM-YYYY HH:mm:ss
LOG_FORMAT=json
LOG_ERROR_FILE=./src/logs/error.log
LOG_COMBINED_FILE=./src/logs/combined.log
LOG_MAX_SIZE=5242880
LOG_MAX_FILES=5
LOG_CONSOLE=true
LOG_EXCEPTIONS_FILE=./src/logs/exceptions.log

# ============================================
# SESSION CONFIGURATION
# ============================================
SESSION_ENABLED=true
SESSION_SECRET=your_session_secret_change_in_production
SESSION_STORE_TYPE=memory
SESSION_COOKIE_NAME=uptamca.sid
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTP_ONLY=true
SESSION_COOKIE_SAME_SITE=strict
SESSION_COOKIE_PATH=/
SESSION_MAX_AGE=86400000
SESSION_RESAVE=false
SESSION_SAVE_UNINITIALIZED=false
SESSION_PROXY=false
SESSION_ROLLING=false
SESSION_TTL=86400
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_SESSION_DB=0
MONGO_SESSION_URL=
SESSION_COLLECTION=sessions

# ============================================
# COOKIE CONFIGURATION
# ============================================
COOKIE_SECRET=default-cookie-secret-change-me
COOKIE_HTTP_ONLY=true
COOKIE_SECURE=false
COOKIE_SAME_SITE=strict

# ============================================
# BODY PARSER CONFIGURATION
# ============================================
JSON_BODY_LIMIT=10mb
JSON_STRICT=true
JSON_TYPE=application/json
URL_ENCODED_LIMIT=10mb
URL_ENCODED_EXTENDED=true
URL_ENCODED_PARAM_LIMIT=1000
MULTIPART_ENABLED=true
UPLOAD_DIR=./uploads
KEEP_EXTENSIONS=true
MAX_FILE_SIZE=10485760
MAX_FIELDS=100
MAX_FILES=10
ALLOW_EMPTY_FILES=false
TEXT_BODY_LIMIT=1mb
TEXT_DEFAULT_CHARSET=utf-8
TEXT_TYPE=text/plain
RAW_BODY_LIMIT=5mb
RAW_TYPE=application/octet-stream